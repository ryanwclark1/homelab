name: monitoring

########################### NETWORKS
# You may customize the network subnets (10.10.x.0/24) below as you please.

networks:
  monitoring-services:
    # external: false
    name: monitoring-services
    # driver: bridge

x-common: &common
  restart: unless-stopped
  networks:
    - monitoring-services
  logging:
    driver: loki
    options:
      loki-url: "http://loki:3100/loki/api/v1/push"
      loki-external-labels: "container_name={{.Name}}"
  labels:
    org.label-schema.group: "monitoring"

########################### SECRETS

########################### INCLUDE

include:
  - ./alertmanager.yml
  - ./cadvisor.yml
  - ./grafana.yml
  - ./prometheus.yml
  - ./renderer.yml
  - ./unpoller.yml
